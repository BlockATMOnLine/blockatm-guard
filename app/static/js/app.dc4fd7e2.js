(self["webpackChunkBlockATM_payout"]=self["webpackChunkBlockATM_payout"]||[]).push([[143],{50229:function(e,t,n){"use strict";n.d(t,{Nn:function(){return c},QN:function(){return d},Wv:function(){return m},bz:function(){return w},dP:function(){return b},d_:function(){return y},ev:function(){return v},kS:function(){return i},lx:function(){return g},m8:function(){return u},pz:function(){return k},r_:function(){return p},rz:function(){return f},vU:function(){return h},x4:function(){return s},zH:function(){return l}});var a=n(87267),r=n(95410),o=n.n(r);function s(e){return(0,a.Z)({url:"/v1/agent/login",method:"post",data:e})}function i(e){return(0,a.Z)({url:"/v1/agent/logout",method:"post",data:e})}function c(e){return(0,a.Z)({url:"/v1/agent/verify/google_auth",method:"post",data:e})}function l(){return k(`${window.location.origin}/v1/agent/order/download_order_template`)}function d(e){return(0,a.Z)({url:"/v1/agent/order/query_wait",method:"get",params:e})}function u(e){return(0,a.Z)({url:"/v1/agent/order/history",method:"post",data:e})}function p(e){return k(`${window.location.origin}/v1/agent/order/download_order_report?${o().stringify(e)}`)}function m(e){return(0,a.Z)({url:"/v1/agent/order/delete",method:"post",data:e})}function h(e){return(0,a.Z)({url:"/v1/agent/order/pay_lock",method:"post",data:e})}function y(e){return(0,a.Z)({url:"/v1/agent/order/pay_winding",method:"post",data:e})}function f(e){return(0,a.Z)({url:"/v1/agent/order/pay_fail",method:"post",data:e})}function g(e){return(0,a.Z)({url:"/v1/agent/order/pay_success",method:"post",data:e})}function w(e){return(0,a.Z)({url:"/v1/agent/order/upload_order_file",method:"post",data:e})}function b(e){return(0,a.Z)({url:"/v1/agent/log/login_log",method:"get",params:e})}function v(e){return(0,a.Z)({url:"/v1/agent/log/operate_log",method:"get",params:e})}function k(e){return(0,a.Z)({url:"/v1/agent/local/open_webbrowser",method:"post",data:{url:e}})}},59760:function(e,t,n){"use strict";n(57658);var a=n(73396),r=n(44870),o=n(20065),s=n(58656),i=n(24439),c=n.n(i),l=n(69618),d=n(15941);const u=(e,t,n,a)=>{const{length:r}=e,o=[];let s=0,i=0;return new Promise((c=>{const l=async t=>{const d=Promise.resolve().then((()=>n(e[t]))),u=await d;a&&a({item:e[t],index:t,res:u}),o[t]=u,i++,i===r&&c(o),s<r&&(l(s),s++)};for(;s<Math.min(t,r);s++)l(s)}))},p=({contractAddress:e,sort:t={}})=>{const n=(0,o.oR)(),i=(0,a.Fl)((()=>n.getters["_info/getTokenList"])),p=(0,a.Fl)((()=>n.getters["_info/getTokenJSON"])),m=(0,r.SU)(e),h=async(e=!0)=>{if(m&&i.value.length)return u(i.value,3,(t=>n.dispatch("_info/queryTokenBalance",{symbol:t.symbol,tokenAddress:t.tokenAddress,contractAddress:m,forceUpdate:e})),(({item:e,res:t})=>{d.log(`${e.symbol} balance: ${t}`)}));d.log("getBalancegetBalance",m,i)},y=(0,a.Fl)((()=>n.state._info.contractBalance[(0,r.SU)(e)]||{})),f=e=>h(!1).then((()=>{const t={USDT:e.length};e.forEach((e=>{t[e.crypto]||(t[e.crypto]=0),t[e.crypto]=(0,s.PD)(t[e.crypto],e.amount)}));const n={error:!1,message:[],payoutList:[],business:[]};return Object.keys(t).forEach((e=>{const a=y.value[e]||0;(0,s.gt)(t[e],a)&&(n.error=!0,n.message.push(e))})),!1===n.error&&e.forEach((e=>{const t=p.value[e.crypto]||{},a=(0,s.dC)(e.amount,(0,s.sQ)(10,t.decimals));n.payoutList.push({tokenAddress:t.tokenAddress,amount:a,toAddress:e.wallet_address}),n.business.push(e.biz_name)})),n})),g=(0,a.Fl)((()=>{const e=[],{field:n="",order:a="desc"}=(0,r.SU)(t);return i.value.forEach((t=>{const n=y.value[t.symbol]||null,a=n&&(0,s.Bq)(n)>2?(0,s.FH)(n,2):n;e.push({...t,balance:n?parseFloat(n):null,fixedBalance:a})})),n?c()(e,[n],[a]):e}));return(0,a.m0)((()=>{m&&i.value.length&&h(!1)})),(0,a.bv)((()=>{l.Z.on("loadBalance",h)})),(0,a.Ah)((()=>{l.Z.off("loadBalance",h)})),{balanceList:g,getBalance:h,checkOrderList:f}};t["Z"]=p},88223:function(e,t,n){"use strict";var a=n(44870),r=n(28320),o=n(65057),s=n(35213);const i=({text:e,success:t,fail:n})=>{const{t:i}=(0,s.QT)({useScope:"global"}),c=(0,a.iH)(!1),l=()=>{c.value=!0,r.Z.write((0,a.SU)(e)).then((()=>{t?t():o.Z.success(i("common.copySuccess"))})).catch((()=>{n&&n()})).finally((()=>{c.value=!1}))};return{copy:l,loading:c}};t["Z"]=i},72977:function(e,t,n){"use strict";n.d(t,{_1:function(){return l}});var a=n(35213),r=n(82873),o=n(26263),s=n(41659),i=n(77810);const c={"zh-HK":r,"zh-CN":s,"en-US":o},l=()=>{let e=(0,i.IE)("lang");if(!c[e]){const t=navigator.language.toLowerCase();-1!==t.indexOf("zh")&&(e=-1!==t.indexOf("hk")||-1!==t.indexOf("tw")?"zh-HK":"zh-CN")}return e||"en-US"},d=l(),u=p(d);function p(e){const t=(0,a.o)({legacy:!1,messages:c,fallbackLocale:d,warnHtmlMessage:!1,locale:e}),n=c[e]?e:d;return m(t,n),t}function m(e,t){"legacy"===e.mode?e.global.locale=t:e.global.locale.value=t,document.querySelector("html").setAttribute("lang",t)}t["ZP"]=u},94876:function(e,t,n){"use strict";var a=n(49242),r=n(73396),o=n(44870),s=n(87139),i=n(21229),c=n(20065),l=n.p+"static/img/logo.e1d6c3e2.png";const d={class:"text-center flex flex-col items-center mx-auto text-xl"},u=(0,r._)("img",{src:l,class:"w-full mb-6"},null,-1),p=(0,r._)("p",{class:"text-primary tracking-widest"},[(0,r.Uk)("BLOCK"),(0,r._)("b",null,"ATM")],-1),m=[u,p];function h(e,t){return(0,r.wg)(),(0,r.iD)("div",d,m)}var y=n(40089);const f={},g=(0,y.Z)(f,[["render",h]]);var w=g,b=n(9182),v={__name:"index",props:{modelValue:String},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=["desc","asc"],i=(0,r.Fl)({get:()=>n.modelValue,set:e=>t("update:modelValue",e)}),c=()=>{const e=a.findIndex((e=>i.value===e)),t=-1===e?0:e,n=a[(t+1)%a.length];i.value=n};return(e,t)=>((0,r.wg)(),(0,r.iD)("i",{class:(0,s.C_)(["bm cursor-pointer hover:text-primary",[`bm-sort-${(0,o.SU)(i)}`]]),onClick:c},null,2))}};const k=v;var T=k,_=n(32160),x=(n(59910),n(12573),n(12498),n(88046)),I=(n(12428),n(41015)),S=(n(15821),n(42614)),A=n.n(S),C=n(72748),U=n(35213),D=n(59760),P=n(88223);n(58656);const E={class:"balance-content flex justify-between items-center bg-lightGrayBlue hover:bg-light-bd rounded-lg py-1.5 px-2.5"},O={class:"flex items-center"},L=["src"],M={class:"symbol"},Z={class:"text-primary"};var F={__name:"balance-list",props:{list:Array},setup(e){const{t:t}=(0,U.QT)({useScope:"global"}),a=e=>n(21377)(`./${e.toLowerCase()}.svg`);return(t,n)=>{const o=x.Q0;return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.list,((e,n)=>((0,r.wg)(),(0,r.iD)("li",{key:n,class:"balance-list mb-1"},[(0,r._)("div",E,[(0,r.WI)(t.$slots,"title",{item:e,index:n},(()=>[(0,r._)("div",O,[(0,r._)("img",{src:a(e.symbol),class:"w-5 h-5 mr-2"},null,8,L),(0,r._)("p",M,(0,s.zw)(e.symbol),1)])])),(0,r.WI)(t.$slots,"content",{item:e,index:n},(()=>[(0,r.Wm)(o,{content:`${e.balance}`,placement:"top",disabled:!e.balance},{default:(0,r.w5)((()=>[(0,r._)("div",Z,(0,s.zw)(null===e.fixedBalance?"--":e.fixedBalance+" ≈"),1)])),_:2},1032,["content","disabled"])]))])])))),128))])])}}};const B=(0,y.Z)(F,[["__scopeId","data-v-25290f71"]]);var W=B,N=n(77810),j=n(50229);const z=e=>((0,r.dD)("data-v-90a4f1d2"),e=e(),(0,r.Cn)(),e),H={class:"contract text-center"},G={class:"text-sm text-primary"},R={class:"qrcode"},V={class:"flex items-center justify-center"},$={class:"ml-2 text-xs text-subColor"},q={class:"my-5 flex items-center justify-between rounded-3xl border border-solid border-border px-4 py-0.5"},K={class:"address-text truncate text-minorColor text-sm"},X=z((()=>(0,r._)("i",{class:"bm bm-link text-primary ml-2 hover:opacity-80 cursor-pointer"},null,-1))),J=[X],Q={class:"list"},Y={class:"flex items-center justify-end"},ee={class:"text-primary text-sm"},te={key:0};var ne={__name:"contract",props:{contractAddress:String},setup(e){const t=e,n=(0,c.oR)(),{t:a}=(0,U.QT)({useScope:"global"}),i=(0,r.Fl)((()=>[{label:a("common.default"),value:""},{label:a("common.balance"),value:"balance"},{label:a("common.symbol"),value:"symbol"}])),l=(0,o.iH)({field:"",order:"desc"}),{getBalance:d,balanceList:u}=(0,D.Z)({contractAddress:t.contractAddress,sort:l}),p=(0,o.iH)(null),m=e=>{p.value&&new(A())(p.value,{text:e,width:88,height:88,colorDark:"#000000",colorLight:"#ffffff",correctLevel:A().CorrectLevel.H})},{copy:h}=(0,P.Z)({text:t.contractAddress}),y=()=>{const e=n.getters["_info/getBrowserUrls"]?.contract+t.contractAddress;return(0,j.pz)(e)},f=(0,o.iH)(!1),g=()=>{f.value||(f.value=!0,d().finally((()=>{f.value=!1})))};return(0,r.bv)((()=>{m(t.contractAddress)})),(t,n)=>{const a=I.gn,c=x.Q0,d=_.BT,m=_.km,w=T;return(0,r.wg)(),(0,r.iD)("div",H,[(0,r._)("div",G,(0,s.zw)(t.$t("layout.payoutContract")),1),(0,r._)("div",R,[(0,r._)("span",{ref_key:"qrcodeImgRef",ref:p,class:"my-5 flex items-center justify-center"},null,512),(0,r._)("div",V,[(0,r.Wm)(a,{size:15,color:"var(--color)"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,o.SU)(C.ITT))])),_:1}),(0,r._)("p",$,(0,s.zw)(t.$t("layout.scanWallet")),1)]),(0,r._)("div",q,[(0,r.Wm)(c,{content:e.contractAddress,placement:"top"},{default:(0,r.w5)((()=>[(0,r._)("div",K,(0,s.zw)((0,o.SU)(N.cb)(e.contractAddress,10,8)),1)])),_:1},8,["content"]),(0,r._)("div",null,[(0,r._)("i",{class:"bm bm-copy text-primary ml-2 hover:opacity-80 cursor-pointer",onClick:n[0]||(n[0]=(...e)=>(0,o.SU)(h)&&(0,o.SU)(h)(...e))}),(0,r._)("a",{onClick:y},J)])]),(0,r._)("div",Q,[(0,r._)("div",Y,[(0,r._)("span",ee,(0,s.zw)(t.$t("common.sortBy")),1),(0,r.Wm)(m,{modelValue:l.value.field,"onUpdate:modelValue":n[1]||(n[1]=e=>l.value.field=e),size:"small",class:"list-select mx-2 w-32"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,o.SU)(i),(e=>((0,r.wg)(),(0,r.j4)(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),l.value.field?((0,r.wg)(),(0,r.iD)("div",te,[(0,r.Wm)(w,{modelValue:l.value.order,"onUpdate:modelValue":n[2]||(n[2]=e=>l.value.order=e)},null,8,["modelValue"])])):(0,r.kq)("",!0),(0,r.Wm)(a,{class:"hover:text-primary cursor-pointer ml-2 text-base"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,o.SU)(C.hYj),{class:(0,s.C_)({"animate-spin":f.value}),onClick:g},null,8,["class"])])),_:1})]),(0,r.Wm)(W,{class:"my-2",list:(0,o.SU)(u)},null,8,["list"])])])])}}};const ae=(0,y.Z)(ne,[["__scopeId","data-v-90a4f1d2"]]);var re=ae;const oe={class:"left"},se={class:"left-bar"},ie={class:"my-7 mx-2.5"},ce={class:"flex items-center mb-5"};var le={__name:"left",setup(e){const t=(0,c.oR)(),n=(0,r.Fl)((()=>t.state._info.contract_address)),a=(0,r.Fl)((()=>t.state._info.connectInfo.chainId));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",oe,[(0,r._)("div",se,[(0,r._)("div",ie,[(0,r.Wm)((0,o.SU)(w),{class:"w-16 mt-1 mb-4"}),(0,r._)("div",ce,[(0,r.Wm)((0,o.SU)(b.Z),{chainId:(0,o.SU)(a),class:"m-auto border border-border rounded-3xl py-1 px-4 text-xs"},null,8,["chainId"])]),(0,r.Wm)((0,o.SU)(re),{contractAddress:(0,o.SU)(n)},null,8,["contractAddress"])])])]))}};const de=(0,y.Z)(le,[["__scopeId","data-v-6bfbb8d0"]]);var ue=de,pe=n(3079),me=n(90466);const he=["onClick"];var ye={__name:"index",props:{disabled:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e,i=(0,o.iH)(),c=(0,o.iH)(!1);(0,me.i9H)(i,(()=>{c.value=!1}),{eventName:"click"});const l=()=>{!1===n.disabled&&(c.value=!c.value)},d=e=>{c.value=e};return t({handleToggle:l,handleVisible:d}),(t,n)=>((0,r.wg)(),(0,r.iD)("div",{ref_key:"dropdown",ref:i,class:(0,s.C_)(["dropdown",c.value?"dropdown-active":""]),onClick:(0,a.iM)(l,["prevent"])},[(0,r._)("div",{class:(0,s.C_)(["dropdown-reference",{"cursor-pointer":!e.disabled}])},[(0,r.WI)(t.$slots,"reference")],2),(0,r._)("div",{class:"dropdown-content",onClick:n[0]||(n[0]=(0,a.iM)((()=>{}),["stop"]))},[(0,r.WI)(t.$slots,"default")])],10,he))}};const fe=(0,y.Z)(ye,[["__scopeId","data-v-a9cbd7e2"]]);var ge=fe,we=n(76448),be=n(93470),ve=n(65057),ke=n(41038);const Te={class:"w-80 m-auto h-screen flex flex-col justify-center"},_e={class:"text-xl border border-border rounded-3xl text-center p-1 my-10"},xe={key:0,class:"my-7 text-center w-full"},Ie={class:"mb-1"},Se={class:"flex items-center border border-border rounded-3xl"},Ae={class:"network flex-1"},Ce={key:0,class:"bm bm-down mr-4"},Ue={class:"border border-border"};var De={__name:"index",setup(e){const{t:t}=(0,U.QT)({useScope:"global"}),n=(0,c.oR)(),a=(0,r.Fl)((()=>n.state._info.connectInfo)),i=(0,o.iH)(null),l=(0,o.iH)(""),d=(0,r.Fl)((()=>n.getters["_config/getAllChains"])),u=(0,r.Fl)((()=>d.value.filter((e=>e.chainId!==l.value))));(0,r.m0)((()=>{if(d.value.length){const e=(0,ke.NO)();e?(l.value=e.chainId,(0,ke.UP)(e)):l.value=d.value[0].chainId}}));const p=e=>{l.value=e,i.value?.handleVisible(!1)},m=async()=>{const e=we.Z.find((e=>e.chainId===l.value));if(e)return(0,ke.UP)({wallet:"WalletConnect",chainId:e.chainId,network:e.network}).catch((n=>{if("unsupported chain"===n?.message){const n=(0,be.x3)(e.network);n&&ve.Z.info(t("common.unsupportedChainTip",[t("chainNetwork."+n)]))}}))};return(e,t)=>((0,r.wg)(),(0,r.iD)("div",Te,[(0,r.Wm)((0,o.SU)(w),{class:"w-24 text-lg"}),(0,r._)("p",_e,(0,s.zw)(e.$t("login.agent")),1),l.value?((0,r.wg)(),(0,r.iD)("div",xe,[(0,r._)("p",Ie,(0,s.zw)(e.$t("login.selectNetwork")),1),(0,o.SU)(u)?((0,r.wg)(),(0,r.j4)((0,o.SU)(ge),{key:0,ref_key:"dropdownRef",ref:i,class:"login-dorpdown",disabled:!(0,o.SU)(u).length},{reference:(0,r.w5)((()=>[(0,r._)("div",Se,[(0,r._)("div",Ae,[(0,r.Wm)((0,o.SU)(b.Z),{chainId:l.value,class:"py-2 px-5"},null,8,["chainId"])]),(0,o.SU)(u).length?((0,r.wg)(),(0,r.iD)("i",Ce)):(0,r.kq)("",!0)])])),default:(0,r.w5)((()=>[(0,r._)("div",Ue,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,o.SU)(u),(e=>((0,r.wg)(),(0,r.j4)((0,o.SU)(b.Z),{key:e.chainId,chainId:e.chainId,class:"px-5 py-4 hover:bg-hover cursor-pointer",onClick:t=>p(e.chainId)},null,8,["chainId","onClick"])))),128))])])),_:1},8,["disabled"])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),(0,r.Wm)((0,o.SU)(pe.Z),{type:"gradient",class:(0,s.C_)(["w-full h-12 text-base",{"mt-3":!(0,o.SU)(u).length,"mt-12":(0,o.SU)(u).length}]),loading:(0,o.SU)(a).loading,disabled:0===(0,o.SU)(d).length,onClick:m},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.$t("login.connectWallet")),1)])),_:1},8,["class","loading","disabled"])]))}};const Pe=De;var Ee=Pe,Oe=n(60814),Le=n(77392),Me=n(42520);const Ze={class:"flex bg"};var Fe={__name:"App",setup(e){const t=(0,c.oR)(),{locale:n}=(0,U.QT)({useScope:"global"}),a=(0,r.Fl)((()=>{const e={"zh-CN":Oe.Z,"en-US":Le.Z,"zh-HK":Me.Z};return e[n.value]||e["en-US"]})),l=(0,r.Fl)((()=>t.state._info.connectInfo.connected&&t.state._info.contract_address)),d=()=>{t.dispatch("_config/queryConfig")};return(0,r.bv)((()=>{window["store"]=t,d()})),(e,t)=>{const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)((0,o.SU)(i.BR),{message:{max:3},locale:(0,o.SU)(a)},{default:(0,r.w5)((()=>[(0,r._)("div",Ze,[(0,o.SU)(l)?((0,r.wg)(),(0,r.j4)((0,o.SU)(ue),{key:0,class:"left"})):(0,r.kq)("",!0),(0,r._)("main",{class:(0,s.C_)(["main",{mainLogin:(0,o.SU)(l)}])},[(0,o.SU)(l)?((0,r.wg)(),(0,r.j4)(n,{key:0})):((0,r.wg)(),(0,r.j4)((0,o.SU)(Ee),{key:1}))],2)])])),_:1},8,["locale"])}}};const Be=Fe;var We=Be,Ne=n(72977),je=n(22483);const ze=[{path:"/",name:"Home",component:()=>Promise.all([n.e(689),n.e(177)]).then(n.bind(n,36744))}];var He=ze,Ge=n(30247);const Re=(0,je.p7)({history:(0,je.r5)(),routes:He});var Ve=Re,$e=n(91097),qe=n(40536);n(95152),n(64710);$e.Z.config({EXPONENTIAL_AT:[-16,26]});const Ke=(0,a.ri)(We);Ke.use(Ne.ZP).use(Ge.Z).use(Ve),Ke.mount("#app"),window.crypto?.randomUUID||(window.crypto.randomUUID=qe.Z)},30247:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(20065),r=n(87267);function o(e){return(0,r.Z)({url:"/v1/agent/config",method:"get",data:e})}var s=n(76448),i=n(45842),c={namespaced:!0,state:{config:{public_key:[],network_list:[]}},mutations:{Update_config(e,t){e.config=t}},actions:{queryConfig({commit:e}){return o().then((t=>{t.check()&&(e("Update_config",t.data),t.data.public_key&&(0,i.X9)(t.data.public_key))}))}},getters:{getAllChains(e){const t=e.config.network_list.map((e=>e.chainid));return s.Z.filter((e=>t.includes(e.chainId)))}}},l=n(41038);const d=[{network:"Ethereum",chainId:"1",tokenAddress:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT",decimals:6},{network:"Ethereum",chainId:"1",tokenAddress:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC",decimals:6},{network:"Ethereum",chainId:"1",tokenAddress:"0x6B175474E89094C44Da98b954EedeAC495271d0F",symbol:"DAI",decimals:18},{network:"Ethereum",chainId:"1",tokenAddress:"0x0000000000085d4780B73119b644AE5ecd22b376",symbol:"TUSD",decimals:18},{network:"Ethereum",chainId:"1",tokenAddress:"0x853d955aCEf822Db058eb8505911ED77F175b99e",symbol:"FRAX",decimals:18}],u=[{network:"Tron",chainId:"0x2b6653dc",tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",symbol:"USDT",decimals:6},{network:"Tron",chainId:"0x2b6653dc",tokenAddress:"TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8",symbol:"USDC",decimals:6},{network:"Tron",chainId:"0x2b6653dc",tokenAddress:"TMwFHYXLJaRUPeW6421aqXL4ZEzPRFGkGT",symbol:"USDJ",decimals:18},{network:"Tron",chainId:"0x2b6653dc",tokenAddress:"TPYmHEhy5n8TCEfYGqW2rPxsghSfzghPDn",symbol:"USDD",decimals:18}],p=[{network:"Ethereum",chainId:"5",tokenAddress:"0x92eFDFa35c75B259375eBe0F84ee1d95db0489b6",symbol:"USDT",decimals:6},{network:"Ethereum",chainId:"5",tokenAddress:"0x2f96275bbb4a54714ef0251226c42811fb9f98aa",symbol:"USDC",decimals:6},{network:"Ethereum",chainId:"5",tokenAddress:"0x1767c312e0239d7f8e2c87d6a78a70763b03bb37",symbol:"DAI",decimals:18},{network:"Ethereum",chainId:"5",tokenAddress:"0x0c8e24326d78bCd59741308F72D0DF94BF63a25b",symbol:"TUSD",decimals:18},{network:"Ethereum",chainId:"5",tokenAddress:"0x789164d4d96cd1f1bf67acd8fe413106222973f2",symbol:"FRAX",decimals:18}],m=[{network:"Tron",chainId:"0x94a9059e",tokenAddress:"TEYKWmKvdCHX2NuX4tVmhxdN4P3PVjyMcu",symbol:"USDT",decimals:6},{network:"Tron",chainId:"0x94a9059e",tokenAddress:"TWjJj93GX51rJ8GRFihPVNA15ieLoheKaj",symbol:"USDC",decimals:6},{network:"Tron",chainId:"0x94a9059e",tokenAddress:"TDTNSJAYgQaEVT271PKybvDzJTmYzR9DUm",symbol:"USDJ",decimals:18},{network:"Tron",chainId:"0x94a9059e",tokenAddress:"TUrhpa8bD4u6E11ZtKGRxY8uoBVAUNcmco",symbol:"USDD",decimals:18}],h=[...d,...u,...p,...m];var y=h,f=n(50229);const g=()=>({connectInfo:{account:"",chainId:"",connected:!1,supported:!0,loading:!1,network:"",wallet:""},contract_address:"",contractBalance:{},contractBalanceTime:{},orderList:[],orderHistoryList:[],tokenList:y});var w={namespaced:!0,state:g(),mutations:{Reset_State(e){Object.assign(e,g())},Update_ConnectInfo(e,t){"number"===typeof t.chainId&&(t.chainId=`${t.chainId}`),e.connectInfo={...e.connectInfo,...t}},Update_ConnectedStatus(e,t){e.connectInfo.connected=t},Update_ConnectedAccount(e,t){e.connectInfo.account=t},Update_ConnectedChainId(e,t){e.connectInfo.chainId=t},Update_ConnectedLoading(e,t){e.connectInfo.loading=t},Update_contractBalanceTime(e,t){e.contractBalanceTime[t.contractAddress]={...e.contractBalanceTime[t.contractAddress],...t.time}},Update_contractBalance(e,t){e.contractBalance[t.contractAddress]={...e.contractBalance[t.contractAddress],...t.balance}},Update_contractAddress(e,t){e.contract_address=t},Update_orderList(e,t){e.orderList=t},Update_orderHistoryList(e,t){e.orderHistoryList=t}},actions:{queryTokenBalance({commit:e,state:t},n){const a=t.contractBalanceTime[n.contractAddress]?.[n.symbol]||0;return+new Date-a<6e4&&!0!==n.forceUpdate?null:(e("Update_contractBalanceTime",{contractAddress:n.contractAddress,time:{[n.symbol]:+new Date}}),(0,l.yX)(n.tokenAddress,n.contractAddress).then((t=>(t?e("Update_contractBalance",{contractAddress:n.contractAddress,balance:{[n.symbol]:t}}):e("Update_contractBalanceTime",{contractAddress:n.contractAddress,time:{[n.symbol]:0}}),t))))},queryOrderList({commit:e,state:t},n){return(0,f.QN)(n).then((t=>(t.check()&&e("Update_orderList",t.data?.orders||[]),t)))},queryOrderHistoryList({commit:e,state:t},n){return(0,f.m8)(n).then((t=>(t.check()&&e("Update_orderHistoryList",t.data?.orders||[]),t)))}},getters:{getBrowserUrls(e){const t=`${e.connectInfo.chainId}`,n=s.Z.find((e=>e.chainId===t))||{},{scan_url:a,network:r}=n;let o={};switch(r){case"Ethereum":o={account:a+"address/",contract:a+"address/",txHash:a+"tx/"};break;case"Tron":o={account:a+"address/",contract:a+"contract/",txHash:a+"transaction/"};break}return o},getTokenList(e){const t=`${e.connectInfo.chainId}`;return e.tokenList.filter((e=>e.chainId===t))},getTokenJSON(e){const t=`${e.connectInfo.chainId}`,n={};return e.tokenList.filter((e=>e.chainId===t)).forEach((e=>{n[e.symbol]=e})),n},orderLockedTxid(e){const t=e.orderList.find((e=>2===e.status));return!!t&&t.txid}}},b=(0,a.MT)({modules:{_info:w,_config:c},state:{style:{}}})},58656:function(e,t,n){"use strict";n.d(t,{Bq:function(){return o},FH:function(){return r},Hf:function(){return u},PD:function(){return s},cs:function(){return i},dC:function(){return c},gt:function(){return d},sQ:function(){return l}});var a=n(91097);function r(e,t=2){return(0,a.Z)(e).toFixed(t)}function o(e){return(0,a.Z)(e).dp()}function s(e,t){return e=e||0,t=t||0,(0,a.Z)(e).plus(t).toString()}function i(e,t){return e=e||0,t=t||1,(0,a.Z)(e).div(t).toString()}function c(e,t){return e=e||0,t=t||0,(0,a.Z)(e).multipliedBy(t).toString()}function l(e,t){return e=e||0,t=t||0,(0,a.Z)(e).pow(t).toString()}function d(e,t){return(0,a.Z)(e).gt(t)}function u(e){e=parseFloat(e);const t=e.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/);return e.toFixed(Math.max(0,(t[1]||"").length-t[2]))}},77810:function(e,t,n){"use strict";function a(e,t){const n=new Date(e),a=n.getFullYear(),o=n.getMonth()+1,s=n.getDate();let i=a,c=o-t;c<0&&(i-=1,c+=12);const l=r(i,c,s);let d=a,u=o+t;u>12&&(d+=1,u-=12);const p=r(d,u,s);return[l,p]}function r(e,t,n){const a=new Date(e,t,0).getDate(),r=n<a?n:a,o=e+"-"+t+"-"+r,s=new Date(o).getTime();return s}n.d(t,{$u:function(){return i},IE:function(){return s},LP:function(){return p},TD:function(){return m},Xj:function(){return o},_W:function(){return a},cb:function(){return l},gw:function(){return c},s6:function(){return u}});const o=(e,t)=>window.localStorage.setItem(e,t),s=e=>window.localStorage.getItem(e),i=e=>window.localStorage.removeItem(e);function c(e){return new Promise((t=>setTimeout(t,e)))}function l(e,t=5,n=5){const a=e.slice(0,t),r=e.slice(-n);return a+"..."+r}function d(e,t=null){try{return JSON.parse(e)||t}catch(n){return t}}function u(e,t=null){const n=localStorage.getItem(e);return d(n,t)}function p(){return s("token")}function m(e){const t=parseInt(e/3600)<10?"0"+parseInt(e/3600):parseInt(e/3600),n=parseInt(e%3600/60)<10?"0"+parseInt(e%3600/60):parseInt(e%3600/60),a=parseInt(e%3600%60)<10?"0"+parseInt(e%3600%60):parseInt(e%3600%60);return t+":"+n+":"+a}},45842:function(e,t,n){"use strict";n.d(t,{V6:function(){return r},X9:function(){return s},xc:function(){return o}});var a=n(66681);let r="";function o(e,t){const n=new a.Z;n.setPublicKey(t);const r=100;let o=0,s="";const i=e.length/r;for(o=0;o<i;o++)s+=n.encrypt(e.slice(o*r,(o+1)*r)),o<i-1&&(s+=",");return s}function s(e){return r=e,r}},69618:function(e,t,n){"use strict";var a=n(6856),r=n.n(a);t["Z"]=new(r())},87267:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(44161),r=n(65057);class o{constructor(e){Object.assign(this,e)}check(){return 0===this.ret}invalid(){return 0!==this.ret}errorMsg(){const e=this.msg;return e}toast(){const e=this.errorMsg();r.Z.info(e)}}var s=n(77810),i=n(45842),c=n(72977),l=n(15941);const d=a.Z.create({timeout:6e4}),u=d.defaults.headers;u.post["Content-Type"]="application/json;charset=UTF-8",d.interceptors.request.use((e=>{e.headers["token"]=(0,s.LP)(),e.headers["lang"]=(0,c._1)(),e.toastErr=e.toastErr??!0;const t=e.data instanceof FormData;return t?e.headers["Content-Type"]=!1:i.V6&&e.data&&(l.log("data",e.data),e.data=(0,i.xc)(JSON.stringify(e.data),i.V6)),e}),(e=>(l.log(e),Promise.reject(e)))),d.interceptors.response.use((e=>{const{data:t,config:n,headers:a}=e,r=new o(t);return!r.check()&&n.toastErr&&r.toast(),r}),(e=>{const{config:t,response:n}=e;if(t?.toastErr&&t.url&&n?.config){const e=new o({ret:1,msg:n.data?.detail?.[0]?.msg});return e.check()||e.toast(),Promise.resolve(e)}return Promise.resolve(new o(n?.data||{}))}));var p=d},65057:function(e,t,n){"use strict";var a=n(66629),r=n(79554);const o=(e,...t)=>(0,a.z8)({message:e,type:"error",...t}),s=(e,...t)=>(0,a.z8)({message:e,type:"success",...t}),i=(e,t,n,a)=>("function"===typeof t&&(n=t,t="BLOCKATM"),r.T.alert(e,t,{callback:e=>{if("confirm"===e&&n)return n()},center:!0,...a})),c=(e,t,n,a)=>("function"===typeof t&&(n=t,t="BLOCKATM"),r.T.confirm(e,t,{callback:e=>{if("confirm"===e&&n)return n()},center:!0,...a}));t["Z"]={info:o,success:s,alert:i,confirm:c}},41038:function(e,t,n){"use strict";n.d(t,{NO:function(){return P},UP:function(){return E},zP:function(){return M},yX:function(){return F},sW:function(){return B},YX:function(){return W}});var a=n(21832),r=n.n(a),o=n(30247),s=n(93470),i=n(50229),c=n(77810),l=n(47327),d=n(6856),u=n.n(d),p=n(79310),m=n(50500),h=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]'),y=JSON.parse('[{"inputs":[{"internalType":"address[]","name":"newOwnerList","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"feeToken","type":"address"},{"indexed":true,"internalType":"address","name":"feeToAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"},{"components":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"toAddress","type":"address"}],"indexed":false,"internalType":"struct BlockATMPayout.Payout[]","name":"payoutList","type":"tuple[]"},{"indexed":false,"internalType":"string[]","name":"business","type":"string[]"}],"name":"PayoutToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bool","name":"activeFlag","type":"bool"}],"name":"SetActiveFlag","type":"event"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeToAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActiveFlag","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwnerAddressList","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"safeFlag","type":"bool"},{"components":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"toAddress","type":"address"}],"internalType":"struct BlockATMPayout.Payout[]","name":"payoutList","type":"tuple[]"},{"internalType":"string[]","name":"business","type":"string[]"}],"name":"payoutToken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"setActiveFlag","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),f=n(58656),g=n(15941);class w{constructor({wallet:e,options:t}){this.wallet=e,this.options={...t},this.provider=null,this.accountInfo=null,this.web3=null,this.web3HttpProvider=null}async createProvider(){return this._isMetaMask()?window.ethereum.providers&&window.ethereum.providers.length?Promise.resolve(window.ethereum.providers.find((e=>e.isMetaMask))):Promise.resolve(window.ethereum):p.Gn.init(this.options)}async connect(){try{if(this.provider=await this.createProvider(),!this.provider)return;this.web3=new(r())(this.provider),this.web3HttpProvider=this.options?.httpProvider?new(r())(this.options.httpProvider):this.web3,this._isMetaMask()?await(this.provider?.request({method:"eth_requestAccounts"})):await(this.provider?.enable()),await this.getAccountInfo()}catch(e){throw g.log("connect",e),new Error(e)}}async getAccountInfo(){const e=await this.web3.eth.getAccounts(),t=await this.web3.eth.getChainId(),n={account:e[0]||"",chainId:t.toString()};return this.accountInfo=n,n}async disconnect(){this.provider?.disconnect?.(),this.provider=null,this.info=null}async _walletconnectSign(e,t,n){return m.ZP.init({projectId:e,relayUrl:"wss://relay.walletconnect.org"}).then((e=>e.request({topic:this.provider?.session?.topic,chainId:this.provider?.session?.namespaces.eip155.chains?.[0],request:{method:"personal_sign",params:[t,n]}})))}_isMetaMask(){return"MetaMask"===this.wallet}async signMessage(e,t){let n=null;return this._isMetaMask()?n=await this.web3.eth.personal.sign(e,t):(this.options.projectId&&(n=await this._walletconnectSign(this.options.projectId,e,t)),g.log("signature",n)),n}async getDecimals(e){try{const t=new this.web3HttpProvider.eth.Contract(h,e),n=await t.methods.decimals().call();return n}catch(t){g.log("error",t)}}async getTokenBalance(e,t){try{const n=new this.web3HttpProvider.eth.Contract(h,e),a=await n.methods.balanceOf(t).call(),r=await n.methods.decimals().call();return(0,f.Hf)((0,f.cs)(a,(0,f.sQ)(10,r)))}catch(n){g.log("error",n)}}async getEstimatedGasPrice(){try{const e=await this.web3HttpProvider.eth.getGasPrice();return(0,f.FH)((0,f.dC)(e,1.3),0)}catch(e){g.log("error",e)}}async getEstimatedGas(e,t,n,a){try{const r=new this.web3HttpProvider.eth.Contract(h,e),o=await r.methods.transfer(n,a).estimateGas({from:t});return(0,f.FH)((0,f.dC)(o,2),0)}catch(r){g.log("error",r)}}async _payoutToken({address:e,payoutList:t,business:n},a){return new Promise((async(r,o)=>{if(!this.web3||!this.accountInfo)return r(!1);try{const o=this.accountInfo.account,s=new this.web3.eth.Contract(y,e);g.log("contract",s);const i=await this.getEstimatedGasPrice(),c=await s.methods.payoutToken(!0,t,n).estimateGas({from:o}),l=(0,f.FH)((0,f.dC)(c,2),0);g.log("gas",i,l);let d=null;s.methods.payoutToken(!0,t,n).send({from:o,gasPrice:i,gas:l},(async(e,t)=>{if(e)return g.log("transferToken err",e),r(!1);if(t){d=t,a&&a(d);const e=await this.pollTxidStatus(d);g.log("polltx",e),r(e)}else r(!1)})).catch((e=>{g.log("transferToken send catch",e),d||r(!1)}))}catch(s){g.log("error",s),o(s)}}))}async payoutToken(e,t){return await this._payoutToken(e,t)}isValidAddress(e){return r().utils.isAddress(e)}async pollTxidStatus(e,t=50,n=5e3){return new Promise((async(a,r)=>{await(0,c.gw)(200);let o=0;while(o<t)try{const t=await this.web3HttpProvider.eth.getTransactionReceipt(e);if(t)return void a(t.status);await(0,c.gw)(n),o++}catch(s){await(0,c.gw)(n),o++}a(null)}))}}n(57658);var b=n(15714),v=n(95633),k=n(28741),T=n.n(k),_=JSON.parse('[{"inputs":[{"internalType":"address[]","name":"newOwnerList","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"feeToken","type":"address"},{"indexed":true,"internalType":"address","name":"feeToAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"},{"components":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"toAddress","type":"address"}],"indexed":false,"internalType":"struct BlockATMPayout.Payout[]","name":"payoutList","type":"tuple[]"},{"indexed":false,"internalType":"string[]","name":"business","type":"string[]"}],"name":"PayoutToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bool","name":"activeFlag","type":"bool"}],"name":"SetActiveFlag","type":"event"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeToAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActiveFlag","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwnerAddressList","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"safeFlag","type":"bool"},{"internalType":"address[]","name":"tokenList","type":"address[]"},{"internalType":"uint256[]","name":"amountList","type":"uint256[]"},{"internalType":"address[]","name":"toAddressList","type":"address[]"},{"internalType":"string[]","name":"business","type":"string[]"}],"name":"payoutToken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"setActiveFlag","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),x=n(15941);class I{constructor({wallet:e,options:t={}}){this.wallet=e,this.options={...t},this.provider=null,this.tronWeb=null,this.accountInfo=null}createProvider(){return this._isTronLink()?new b.sU:new v.A(this.options)}async connect(){try{if(this.provider=this.createProvider(),!this.provider)return;await this.provider.connect(),this.tronWeb=this.buildTronWeb(),await this.getAccountInfo()}catch(e){throw x.log("connect",e),e}}buildTronWeb(){const e="Shasta"===this.options?.network,t={fullHost:e?"https://api.shasta.trongrid.io":"https://api.trongrid.io"};if(e||(t.headers={"TRON-PRO-API-KEY":this.options?.tronApiKey}),"TronLink"===this.wallet)return window.tronWeb||new(T())(t);{const e=new(T())(t);return e.setAddress(this.provider.address),e}}async getAccountInfo(){try{const e={account:this.provider.address||"",chainId:""};if(this._isTronLink()){if(!this.provider._wallet.tronWeb)return await this.connect();const t=await this.provider.network();t?.chainId&&(e.chainId=t?.chainId)}else this.provider._wallet?._network&&(e.chainId=this.provider._wallet?._network.replace("tron:",""));this.accountInfo=e}catch(e){x.log("eeee",e)}}async disconnect(){this.provider?.disconnect(),this.provider=null,this.accountInfo=null}_isTronLink(){return"TronLink"===this.wallet}async signMessage(e){try{const t=await(this.provider?.signMessage(e));return t}catch(t){x.log("signError",t)}}async getDecimals(e){if(this.tronWeb)try{const t=await this.tronWeb.contract().at(e),n=await t.methods.decimals().call();return this.tronWeb.toDecimal(n)}catch(t){x.log("error",t)}}async getTokenBalance(e,t){if(!this.tronWeb)return null;try{const n=await this.tronWeb.contract().at(e),a=await n.methods.balanceOf(t).call(),r=await n.methods.decimals().call();return x.log("getTokenBalance",e,t,a),(0,f.Hf)((0,f.cs)(this.tronWeb.toDecimal(a),(0,f.sQ)(10,this.tronWeb.toDecimal(r))))}catch(n){return x.log("error",n),null}}async signTransaction(e,t=3){let n=null;for(let a=0;a<t;a++)if(n=this._isTronLink()?await this.tronWeb.trx.sign(e):await this.provider.signTransaction(e),n)break;return x.log("signTransaction",n),n}async sendContractMethod(e,t,n,a){try{let r=null;const o=15e7;if(this._isTronLink()){const s=await this.tronWeb.contract(_,e),i=n.map((e=>e.value));x.log("contract",s,i),r=await s.methods[t](...i).send({feeLimit:o}),a&&a(r),x.log("transaction",r)}else{const s=this.accountInfo.account,i=await this.tronWeb.transactionBuilder.triggerSmartContract(e,t,{feeLimit:o},n,s);x.log("tx",JSON.stringify(i));const c=await this.signTransaction(i.transaction);if(!c)return null;x.log("signedTx",c);const l=await this.tronWeb.trx.sendRawTransaction(c);l?.result&&l?.txid&&(r=l.txid,a&&a(r)),x.log("transaction",r)}if(r){const e=await this.pollTxidStatus(r);return!!e&&r}return!1}catch(r){return x.log("error",t,r),!1}}async payoutToken({address:e,payoutList:t,business:n},a){try{if(!this.tronWeb||!this.accountInfo)return null;const r="payoutToken(bool,address[],uint256[],address[],string[])",o={tokenList:[],amountList:[],toAddressList:[]};t.forEach((e=>{o.tokenList.push(e.tokenAddress),o.amountList.push(e.amount),o.toAddressList.push(e.toAddress)}));const s=[{type:"bool",value:!1},{type:"address[]",value:o.tokenList},{type:"uint256[]",value:o.amountList},{type:"address[]",value:o.toAddressList},{type:"string[]",value:n}];return await this.sendContractMethod(e,r,s,a)}catch(r){return x.log("error",r),Promise.reject(r)}}isValidAddress(e){return T().utils.crypto.isAddressValid(e)}async pollTxidStatus(e,t=50,n=5e3){return new Promise((async(a,r)=>{await(0,c.gw)(1e3);let o=0;while(o<t)try{const t=await this.tronWeb.trx.getTransaction(e);if(x.log("tx",e,t),t)switch(t.ret[0].contractRet){case"SUCCESS":return void a(!0);case"REVERT":case"OUT_OF_ENERGY":case"OUT_OF_TIME":return void a(!1)}await(0,c.gw)(n),o++}catch(s){await(0,c.gw)(n),o++}a(null)}))}}var S=n(15941);class A extends(u()){constructor({network:e,wallet:t,options:n={}}){if(super(),(0,l.Z)(this,"handleConnect",(e=>{this.emit("connect",e)})),(0,l.Z)(this,"handleDisconnect",(e=>{S.log("handleDisconnect",e),this.emit("disconnect",e)})),(0,l.Z)(this,"handleAccountsChanged",(async e=>{e&&(await this.adapter.getAccountInfo(),this.emit("accountsChanged","string"===typeof e?[e]:e))})),(0,l.Z)(this,"handleChainChanged",(async e=>{await this.adapter.getAccountInfo(),this.emit("chainChanged",e?.chainId||e)})),!t||!e)throw new Error("[Web3Connect] wallet and network is required.");this.adapter=null,"Ethereum"===e?this.adapter=new w({wallet:t,options:n}):"Tron"===e&&(this.adapter=new I({wallet:t,options:n})),this.network=e,this.wallet=t}async connect(){this.adapter&&(await this.adapter.connect(),await this.subscribeProvider())}async subscribeProvider(){S.log("subscribeProvider"),this.removeSubscribeProvider(),this.adapter.provider.on&&(this.adapter.provider.on("connect",this.handleConnect),this.adapter.provider.on("disconnect",this.handleDisconnect),this.adapter.provider.on("accountsChanged",this.handleAccountsChanged),this.adapter.provider.on("chainChanged",this.handleChainChanged))}async removeSubscribeProvider(){this.adapter?.provider?._eventsCount>0&&(this.adapter.provider.removeListener("connect",this.handleConnect),this.adapter.provider.removeListener("disconnect",this.handleDisconnect),this.adapter.provider.removeListener("accountsChanged",this.handleAccountsChanged),this.adapter.provider.removeListener("chainChanged",this.handleChainChanged))}async disconnect(){await this.removeSubscribeProvider(),await(this.adapter?.disconnect())}async getAccountInfo(){return await(this.adapter?.getAccountInfo())}async signMessage(e,t){return await(this.adapter?.signMessage(e,t))}async getDecimals(e){return await(this.adapter?.getDecimals(e))}async getTokenBalance(e,t){return await(this.adapter?.getTokenBalance(e,t))}async payoutToken(e,t){return await(this.adapter?.payoutToken(e,t))}isValidAddress(e){return this.adapter.isValidAddress(e)}pollTxidStatus(e,t,n){return this.adapter.pollTxidStatus(e,t,n)}}window.Web3Connect=A;var C=A;const U={infuraId:"6e36e93d5c5c425db258b4bad6ff9731",projectId:"8373295cf01a5ac31da7730347465096",tronApikey:"52aaf998-94ee-4d93-804e-8ca2cd5b2350"};var D=n(15941);function P(){const e=(0,c.s6)("web3ConnectType",{}),t=(0,c.IE)("connected");return!(!e?.chainId||"true"!=t)&&e}async function E(e){return new Promise((async(t,n)=>{try{o.Z.commit("_info/Update_ConnectedLoading",!0);const{chainId:n,network:a,wallet:r}=e;let i={};const l=(0,s.xI)(a);"WalletConnect"===r&&(i="Ethereum"===a?{httpProvider:l,projectId:U.projectId,showQrModal:!0,chains:[Number(n)],relayUrl:"wss://relay.walletconnect.org",optionalChains:[1,5],methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData"],events:["chainChanged","accountsChanged","disconnect"],qrModalOptions:{themeVariables:{"--w3m-z-index":5e3}}}:{network:"0x94a9059e"==n?"Shasta":"Mainnet",tronApiKey:U.tronApikey,options:{relayUrl:"wss://relay.walletconnect.com",projectId:U.projectId},web3ModalConfig:{themeVariables:{"--w3m-z-index":5e3}}});const d=new C({...e,options:i});await d.connect();const u=d?.adapter?.accountInfo;if(u&&u.account){const{account:n,chainId:i}=u,l=(0,s.rQ)(i);if(!l)return Promise.reject({code:10001,message:"unsupported chain"});await Z(d),web3Connect=d,o.Z.commit("_info/Update_ConnectInfo",{connected:!0,supported:!0,chainId:i,account:n,wallet:r,network:a}),await L(),(0,c.Xj)("web3ConnectType",JSON.stringify(e)),o.Z.commit("_info/Update_ConnectedLoading",!1),t([n,i])}}catch(a){D.log("connectWallet error",a),o.Z.commit("_info/Update_ConnectedLoading",!1),n(a),N()}}))}async function O(e){try{const t=(0,s.rQ)(e);o.Z.commit("_info/Update_ConnectInfo",{supported:t,chainId:e})}catch(t){throw t}}async function L(){web3Connect&&(web3Connect.on("accountsChanged",(e=>{const t=web3Connect.adapter?.accountInfo?.account||"";if(t&&e[0]===t)return;const n={connected:!1};t&&(n.account=t),o.Z.commit("_info/Update_ConnectInfo",n),(0,c.Xj)("connected","false"),(0,c.$u)("token")})),web3Connect.on("chainChanged",(e=>{D.log("chainChanged",e);const t="Ethereum"===web3Connect.network?r().utils.hexToNumber(e):e;t!==e&&O(t)})),web3Connect.on("disconnect",(()=>{M()})))}function M(){web3Connect.removeAllListeners(),web3Connect?.disconnect?.(),(0,c.$u)("token"),(0,c.Xj)("connected","false"),o.Z.commit("_info/Reset_State"),N()}async function Z(e){const{account:t}=e.adapter?.accountInfo;if(!t)throw new Error("account is null");return(0,i.x4)({network:e.network,wallet_address:t}).then((e=>{if(e.check())return(0,c.Xj)("token",e.data.token),(0,c.Xj)("connected","true"),o.Z.commit("_info/Update_contractAddress",e.data.contract_address),e.data;throw new Error(e.msg)}))}async function F(){return web3Connect?.getTokenBalance(...arguments)}async function B(){return web3Connect?.payoutToken(...arguments)}function W(){return web3Connect?.pollTxidStatus(...arguments)}function N(){localStorage.removeItem("wc@2:core:0.3//keychain"),localStorage.removeItem("WCM_VERSION"),localStorage.removeItem("wc@2:universal_provider:/namespaces"),localStorage.removeItem("wc@2:universal_provider:/optionalNamespaces"),localStorage.removeItem("wc@2:core:0.3//pairing"),localStorage.removeItem("wc@2:core:0.3//subscription"),localStorage.removeItem("wc@2:core:0.3//expirer"),localStorage.removeItem("wc@2:core:0.3//history"),localStorage.removeItem("wc@2:client:0.3//proposal"),localStorage.removeItem("wc@2:client:0.3//session"),localStorage.removeItem("wc@2:ethereum_provider:/chainId")}window.web3Connect=null},76448:function(e,t,n){"use strict";const a=[{name:"Ethereum Mainnet",network:"Ethereum",chainId:"1",scan_url:"https://etherscan.io/",rpc_url:"https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},{name:"Tron Mainnet",network:"Tron",chainId:"0x2b6653dc",scan_url:"https://tronscan.org/#/"}],r=[{name:"Ethereum Görli",network:"Ethereum",chainId:"5",scan_url:"https://goerli.etherscan.io/",rpc_url:"https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},{name:"Tron Shasta",network:"Tron",chainId:"0x94a9059e",scan_url:"https://shasta.tronscan.org/#/"}],o=[...a,...r];t["Z"]=o},93470:function(e,t,n){"use strict";n.d(t,{rQ:function(){return r},x3:function(){return o},xI:function(){return s}});var a=n(76448);function r(e){const t=a.Z.findIndex((t=>t.chainId==e));return-1!==t}function o(e){const t=a.Z.find((t=>t.network==e));return t?.chainId||""}function s(e){const t=a.Z.find((t=>t.network==e));return t?.rpcUrl||""}},3079:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(67150),r=(n(59910),n(16346),n(57658),n(73396)),o=n(49242),s=n(22483),i={__name:"index",props:{size:{type:String,default:"default"},type:{type:String,default:"default"},round:{type:Boolean,default:!0},href:String,transform:{type:String,default:"inherit"},textSize:String,spaceSize:String},emits:["click"],setup(e,{emit:t}){const n=e,i=(0,s.tv)(),c=e=>{n.href&&i.push(n.href),t("click",e)};return(t,n)=>{const s=a.mi;return(0,r.wg)(),(0,r.j4)(s,(0,r.dG)(t.$attrs,{class:{[`gl-text-${e.textSize}`]:e.textSize,[`gl-space-${e.spaceSize}`]:e.spaceSize,[`gl-text-${e.transform}`]:!0,"gl-gradient":"gradient"===e.type},type:"gradient"===e.type?"primary":e.type,size:e.size,round:e.round,onClick:(0,o.iM)(c,["prevent"])}),{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},16,["class","type","size","round","onClick"])}}},c=n(40089);const l=(0,c.Z)(i,[["__scopeId","data-v-55f2d15a"]]);var d=l},9182:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=n(73396),r=n(87139),o=n(44870),s=n.p+"static/img/eth-logo.72add789.svg",i=n.p+"static/img/tron-logo.7338acfe.svg",c=n(76448);const l={key:0,class:"icon-eth",src:s},d={key:1,class:"icon-tron",src:i};var u={__name:"network",props:{chainId:{default:"",type:String},isActive:Boolean},setup(e){const t=e,n=(0,a.Fl)((()=>{const e=c.Z.find((e=>e.chainId===t.chainId));return e.network||""}));return(t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["network flex items-center",{active:e.isActive}])},["Ethereum"===(0,o.SU)(n)?((0,a.wg)(),(0,a.iD)("img",l)):"Tron"===(0,o.SU)(n)?((0,a.wg)(),(0,a.iD)("img",d)):(0,a.kq)("",!0),(0,a._)("span",null,(0,r.zw)(t.$t("chainNetwork."+e.chainId)),1)],2))}},p=n(40089);const m=(0,p.Z)(u,[["__scopeId","data-v-71a41834"]]);var h=m},21377:function(e,t,n){var a={"./busd.svg":85882,"./dai.svg":64860,"./frax.svg":68833,"./gusd.svg":25103,"./paxg.svg":73468,"./tusd.svg":93715,"./usdc.svg":42468,"./usdd.svg":50986,"./usdj.svg":29193,"./usdp.svg":33485,"./usdt.svg":78373};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=21377},14787:function(e,t,n){var a={"./en-US.json":26263,"./zh-CN.json":41659,"./zh-HK.json":82873};function r(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var r=a[e];return n.t(r,19)}))}r.keys=function(){return Object.keys(a)},r.id=14787,e.exports=r},85882:function(e,t,n){"use strict";e.exports=n.p+"static/img/busd.07916f0b.svg"},64860:function(e,t,n){"use strict";e.exports=n.p+"static/img/dai.35749776.svg"},68833:function(e,t,n){"use strict";e.exports=n.p+"static/img/frax.29567613.svg"},25103:function(e,t,n){"use strict";e.exports=n.p+"static/img/gusd.ed69eff4.svg"},73468:function(e,t,n){"use strict";e.exports=n.p+"static/img/paxg.2cf7075a.svg"},93715:function(e,t,n){"use strict";e.exports=n.p+"static/img/tusd.57d86d95.svg"},42468:function(e,t,n){"use strict";e.exports=n.p+"static/img/usdc.49b23783.svg"},50986:function(e,t,n){"use strict";e.exports=n.p+"static/img/usdd.ec1f99d8.svg"},29193:function(e,t,n){"use strict";e.exports=n.p+"static/img/usdj.0798ba60.svg"},33485:function(e,t,n){"use strict";e.exports=n.p+"static/img/usdp.db03adb2.svg"},78373:function(e,t,n){"use strict";e.exports=n.p+"static/img/usdt.f786ab5a.svg"},88677:function(){},35883:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},24654:function(){},52361:function(){},94616:function(){},26263:function(e){"use strict";e.exports=JSON.parse('{"chainName":{"1":"Ethereum","5":"Ethereum","0x2b6653dc":"Tron","0x94a9059e":"Tron"},"chainNetwork":{"1":"Ethereum Mainnet","5":"Goerli Test Network","0x2b6653dc":"Tron Mainnet","0x94a9059e":"Tron Shasta Network"},"common":{"sortBy":"Sort By","balance":"Balance","copySuccess":"Copy Successful","default":"default","symbol":"Name","submit":"Submit","or":"Or","disconnect":"Disconnect","viewOnExplorer":"View on Explorer","unsupportedChainTip":"Unsupported network. Please switch to {0}.","balanceNotEnough":"Insufficient balance. Please make a deposit before proceeding.","systemError":"System exception, please contact customer service.","deleteSuccess":"Remove successful","to":"To"},"layout":{"payoutContract":"Payout Smart Contract Address","scanWallet":"Scan with your Wallet to Deposit"},"login":{"agent":"BlockATM Guard","selectNetwork":"Please select network","connectWallet":"Connect Wallet"},"table":{"orderDate":"Date of Order","bussiness":"Business","orderNo":"Order No","amount":"Amount","token":"Token","importDate":"Import Date","paymentDate":"Date of Payment","uid":"UID","walletAddress":"Wallet Address","status":"Status","loginDate":"Login Date","loginWalletAddress":"Login Wallet Address","ip":"IP Address","mac":"MAC","onlineDuration":"Online Duration","errorType":"Operation Record","no":"No","serviceFee":"Service Fee"},"payoutOrders":{"payOrders":"Payout Orders","history":"History","importOrders":"Import Orders","pageTotal":"- Total of orders: {num} -","pay":"Pay","confirmPayOrders":"Confirm and Process Selected Order(s) Payment","serviceFee":"(Service Fee: {num} USDT)","deleteOrders":"Delete Selected Order(s)","confirmRemoveOrders":"Are you sure you want to delete the selected orders?","payoutTips":"Please ensure you have enough tokens in the smart contract for payout before making payment.","paymentFailed":"Payment Failed, Please Try Again","paymentSucc":"Payment Successful"},"importOrders":{"verification":"Verification","checkGoogleAuth":"Enter the 6-digit code from Google Authenticator","inputGoogleAuth":"Please enter valid Google Authenticator","downloadTemplate":"Bulk Payout Template Download","registerGoogleAuth":"If you have not register the Google Authenticator, please login to https://blockatm.net, and register from the Bulk Payout.","ensureUpload":"To ensure a successful upload, please download the template Excel file to create your bulk payout orders.","drop":"Drag and drop the payout file here","browserFiles":"Browser Files","decryptPassword":"Decrypt with password","inputDecryptPassword":"Enter the Excel password for file decryption","inProgress":"Payment is in progress, please wait."},"log":{"logFile":"Log File","online":"Online Record","operation":"Operation Record"}}')},41659:function(e){"use strict";e.exports=JSON.parse('{"chainName":{"1":"以太坊","5":"以太坊","0x2b6653dc":"波场","0x94a9059e":"波场"},"chainNetwork":{"1":"以太坊主网","5":"Goerli测试网","0x2b6653dc":"波场主网","0x94a9059e":"波场Shasta测试网"},"common":{"sortBy":"排序","balance":"余额","copySuccess":"复制成功","default":"默认","symbol":"名称","submit":"提交","or":"或","disconnect":"断开连接","viewOnExplorer":"在浏览器上查看","unsupportedChainTip":"暂不支持该网络，请切换到 {0}","balanceNotEnough":"余额不足，请在继续之前先存入押金","systemError":"系统异常，请与客服联络。","deleteSuccess":"删除成功","to":"至"},"layout":{"payoutContract":"出金智能合约地址","scanWallet":"存款请使用钱包扫描"},"login":{"agent":"BlockATM Guard","selectNetwork":"请选择网络","connectWallet":"连接钱包"},"table":{"orderDate":"下单日期","bussiness":"业务","orderNo":"订单号","amount":"数量","token":"币种","importDate":"导入日期","paymentDate":"支付日期","uid":"UID","walletAddress":"钱包地址","status":"状态","loginDate":"登录日期","loginWalletAddress":"登录钱包地址","ip":"IP地址","mac":"MAC","onlineDuration":"在线时长","errorType":"操作记录","no":"编号","serviceFee":"服务费"},"payoutOrders":{"payOrders":"出金订单","history":"历史","importOrders":"导入订单","pageTotal":"- 总订单数: {num} -","pay":"支付","confirmPayOrders":"确认支付选中的订单？","serviceFee":"(服务费: {num} USDT)","deleteOrders":"删除已选取订单","confirmRemoveOrders":"确认删除已选取订单？","payoutTips":"付款前请确保您的智能合约中有足够的代币用于支付。","paymentFailed":"支付失败，请重试","paymentSucc":"支付成功"},"importOrders":{"verification":"验证","checkGoogleAuth":"输入Google Authenticator中的6位数代码","inputGoogleAuth":"请输入Google Authenticator中的6位数代码","downloadTemplate":"批量出金模板下载","registerGoogleAuth":"如果你还没有绑定Google验证码, 请先登录https://blockatm.net, 并于批量出金内进行绑定","ensureUpload":"为确保成功上传，请下载 Excel 模板档案来建立批量出金订单。","drop":"拖入汇款单至此","browserFiles":"浏览档案","decryptPassword":"以密码解密","inputDecryptPassword":"输入Excel密码进行档案解密","inProgress":"付款正在进行中，请稍候"},"log":{"logFile":"日志","online":"上线记录","operation":"操作记录"}}')},82873:function(e){"use strict";e.exports=JSON.parse('{"chainName":{"1":"以太坊","5":"以太坊","0x2b6653dc":"波場","0x94a9059e":"波場"},"chainNetwork":{"1":"以太坊主網","5":"Goerli測試網","0x2b6653dc":"波場主網","0x94a9059e":"波場Shasta測試網"},"common":{"sortBy":"排序","balance":"結餘","copySuccess":"複製成功","symbol":"名稱","default":"默認","submit":"提交","or":"或","disconnect":"断开连接","viewOnExplorer":"在瀏覽器上查看","unsupportedChainTip":"暫不支持該網絡，請切換到 {0}","balanceNotEnough":"餘額不足。 請在繼續之前先存入押金","systemError":"系統异常，請與客服聯絡。","deleteSuccess":"删除成功","to":"至"},"layout":{"payoutContract":"出金智能合約地址","scanWallet":"存款請使用錢包掃描"},"login":{"agent":"BlockATM Guard","selectNetwork":"請選擇網路","connectWallet":"連接錢包"},"table":{"orderDate":"下單日期","bussiness":"業務","orderNo":"訂單號","amount":"數量","token":"幣種","importDate":"導入日期","paymentDate":"支付日期","uid":"UID","walletAddress":"錢包地址","status":"狀態","loginDate":"登錄日期","loginWalletAddress":"登陸錢包地址","ip":"IP地址","mac":"MAC","onlineDuration":"在線時長","errorType":"操作記錄","no":"編號","serviceFee":"服務費"},"payoutOrders":{"payOrders":"出金訂單","history":"歷史","importOrders":"導入訂單","pageTotal":"- 總訂單數: {num} -","pay":"支付","confirmPayOrders":"確認支付選定的訂單?","serviceFee":"(服務費: {num} USDT)","deleteOrders":"刪除已選取訂單","confirmRemoveOrders":"是否確認刪除已選取訂單？","payoutTips":"付款前請確保您的智能合約中有足夠的代幣用於支付。","paymentFailed":"支付失敗，請重試","paymentSucc":"支付成功"},"importOrders":{"verification":"驗證","checkGoogleAuth":"輸入Google Authenticator中的6位數代碼","inputGoogleAuth":"请輸入Google Authenticator中的6位數代碼","downloadTemplate":"批量出金模板下載","registerGoogleAuth":"如果你還沒有綁定Google驗證碼, 請先登錄https://blockatm.net, 並於批量出金內進行綁定","ensureUpload":"為確保成功上傳，請下載 Excel 模板檔案來建立批量出金訂單。","drop":"拖拉匯款單檔案至此","browserFiles":"瀏覽檔案","decryptPassword":"以密碼解密","inputDecryptPassword":"輸入Excel密碼進行檔案解密","inProgress":"付款正在進行中，請稍候"},"log":{"logFile":"記錄檔","online":"上線記錄","operation":"操作記錄"}}')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[802,67,114],(function(){return t(94876)}));e.O()}]);